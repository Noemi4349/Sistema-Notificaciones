# ========================================
# CONFIGURACIÓN DE LA APLICACIÓN
# ========================================
spring.application.name=creditos

# ========================================
# CONFIGURACIÓN DEL SERVIDOR
# ========================================
server.port=8082

# ========================================
# CONFIGURACIÓN EUREKA (Microservicios)
# ========================================
eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.client.enabled=true

eureka.client.registry-fetch-interval-seconds=30
eureka.instance.lease-renewal-interval-in-seconds=10
eureka.instance.lease-expiration-duration-in-seconds=30
eureka.client.eureka-server-connect-timeout-seconds=60
eureka.client.eureka-server-read-timeout-seconds=60

eureka.client.initial-instance-info-replication-interval-seconds=15
eureka.client.instance-info-replication-interval-seconds=15

eureka.instance.homePageUrl=http://localhost:8082/
eureka.instance.statusPageUrl=http://localhost:8082/
eureka.instance.hostname=creditos

# ========================================
# CONFIGURACIÓN BASE DE DATOS POSTGRESQL
# ========================================
spring.datasource.url=jdbc:postgresql://localhost:5432/login
spring.datasource.username=postgres
spring.datasource.password=8509603
spring.datasource.driver-class-name=org.postgresql.Driver

# ========================================
# CONFIGURACIÓN JPA/HIBERNATE
# ========================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
# CORRECCIÓN: PostgreSQL dialect (no MySQL)
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# ========================================
# CONFIGURACIÓN WHATSAPP (GRATUITO - BAILEYS)
# ========================================
# URL del servicio WhatsApp gratuito (Node.js con Baileys)
whatsapp.service.url=http://localhost:3000

# NOTA: Las siguientes configuraciones de Twilio ya NO se usan
# Se mantienen comentadas por si quieres volver a usar Twilio
#whatsapp.api.url=https://api.twilio.com/2010-04-01/Accounts/{accountSid}/Messages.json
#whatsapp.api.account-sid=TU_ACCOUNT_SID
#whatsapp.api.auth-token=TU_AUTH_TOKEN
#whatsapp.api.from-number=whatsapp:+14155238886

# ========================================
# CONFIGURACIÓN DEL SCHEDULER
# ========================================
# Ejecutar todos los días a las 9:00 AM
scheduler.cron=0 0 9 * * *
scheduler.hora-envio=9
scheduler.minuto-envio=0

# Habilitar scheduling
spring.task.scheduling.enabled=true

# Para testing: ejecutar cada 2 minutos (descomentar solo para pruebas)
#scheduler.cron=0 */2 * * * *

# ========================================
# LOGGING
# ========================================
logging.level.bo.sanmartin.creditos=DEBUG
logging.level.org.springframework.scheduling=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.pattern.console=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# ========================================
# ZONA HORARIA
# ========================================
spring.jackson.time-zone=America/La_Paz

# ========================================
# CONFIGURACIÓN ADICIONAL
# ========================================
# Tamaño máximo de payload (por si envías mensajes largos)
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# WhatsApp Service GRATUITO
whatsapp.service.url=http://localhost:3000

# Scheduler
scheduler.cron=0 0 9 * * *
spring.task.scheduling.enabled=true